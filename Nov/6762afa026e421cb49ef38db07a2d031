MILAN/LONDON &#8211; European shares hit a three-week high on Wednesday, ending the month in positive territory, with energy stocks racing higher as oil prices jumped after a deal to curb global oversupply.The European oil and gas index rose 3.4%, its best day since end-September, after oil prices rose more than 8% as some of the world&#8217;s largest oil producers agreed to curb oil output for the first time since 2008 in a bid to support prices. OPEC agreed to cut production to 32.5 million barrels per day, Kuwait&#8217;s oil minister said.&#8220;OPEC has confounded the naysayers and critics with an output freeze&#8230; There are a few doubts, but on the whole OPEC should be pleased with a job well done at long last. This is likely to keep crude closer to $50 than $40 for now,&#8221; said Neil Wilson, market analyst at ETX Capital.Energy companies helped the pan-European STOXX 600 rise 0.3%. The index rose as much as 0.7% to its highest since Nov. 10 when global markets were boosted by optimism over freshly elected US president Donald Trump&#8217;s fiscal stimulus plans.However, shares in state-backed British bank RBS fell 1.4% after it failed the Bank of England&#8217;s stress test of seven British lenders and was told to boost its capital buffers.&#8220;RBS is still the weak link in the UK banking chain, almost a decade after the financial crisis came close to wiping the bank out,&#8221; said Hargreaves Lansdown senior analyst Laith Khalaf. &#8220;&#8230; Unlike most of its peers, RBS doesn&#8217;t have the luxury of a dividend it can cut to support its capital position.&#8221;December is set to be an uncharacteristically busy month for markets, with a referendum on constitutional reform in Italy on Sunday, followed by a UK Supreme Court ruling on whether the government can quit the European Union without an act of Parliament.The Italian bank index surged for a second day, up 3%, after touching a two month low as some investors said the sell-off seen in the run up to the vote that could unseat Prime Minister Matteo Renzi might be overdone.The bank rally helped Milan&#8217;s blue chip index,the worst performer among major European bourses this year, end up 2.2%.&#8220;Looking at where Italy is trading today, the level of short interest and the surge of interest in the referendum outcomes, one wonders whether much may already be in the price,&#8221; Liontrust fund manager Olly Russ said.Bets on falls in Italian stocks and demand for insurance against sovereign default have both picked up markedly this year on growing investor concern ahead of the referendum, data company HIS Markit said.However, Jefferies is sticking with a contrarian bullish call on Italian stocks, echoing views from some other fund managers who believe that the expected failure of Renzi&#8217;s constitutional referendum will offer buying opportunities as others flee.The broader European equities market was also underpinned by some M&amp;A news.Linde shares advanced 4.7% after the German industrial gases group received a fresh approach from U.S. rival Praxair for a merger of equals.Elsewhere, British packaging company RPC Group hit a record high and ended up 7.5% after reporting a 53% rise in first-half revenue.